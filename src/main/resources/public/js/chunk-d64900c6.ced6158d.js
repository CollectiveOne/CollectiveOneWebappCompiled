(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-d64900c6"],{"04e7":function(t,i,e){"use strict";var a=e("d2fb"),n=e.n(a);n.a},"1fb3":function(t,i,e){"use strict";var a=e("cd22"),n=e.n(a);n.a},4112:function(t,i,e){"use strict";var a=e("d9bd"),n=e.n(a);n.a},"5cf8":function(t,i,e){},"6f4b":function(t,i,e){"use strict";var a=function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",{staticClass:"w3-modal"},[e("div",{staticClass:"w3-modal-content"},[e("div",{staticClass:"w3-card-4 app-modal-card"},[e("div",{staticClass:"close-div w3-display-topright w3-xlarge",on:{click:function(i){t.closeThis()}}},[e("i",{staticClass:"fa fa-times",attrs:{"aria-hidden":"true"}})]),e("div",{staticClass:"w3-container w3-border-bottom"},[e("h2",[t._v(t._s(t.$t("initiatives.NEW_INIT_MODAL")))])]),e("div",{staticClass:"w3-container form-container"},[e("br"),e("label",{},[e("b",[t._v(t._s(t.$t("general.NAME"))+" "),e("span",{staticClass:"w3-small error-text"},[t._v("("+t._s(t.$t("general.REQUIRED"))+")")])])]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.name,expression:"name"}],staticClass:"w3-input w3-hover-light-grey",class:{"error-input":t.nameErrorShow},attrs:{type:"text"},domProps:{value:t.name},on:{input:function(i){i.target.composing||(t.name=i.target.value)}}}),e("app-error-panel",{attrs:{show:t.nameEmptyShow,message:t.$t("general.FIELD_CANNOT_BE_EMPTY")}}),e("app-error-panel",{attrs:{show:t.nameTooLongShow,message:t.$t("general.FIELD_TOO_LONG")}}),e("br"),e("label",{},[e("b",[t._v(t._s(t.$t("general.DESCRIPTION")))])]),e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.driver,expression:"driver"}],staticClass:"w3-input w3-border w3-round w3-hover-light-grey",domProps:{value:t.driver},on:{input:function(i){i.target.composing||(t.driver=i.target.value)}}}),e("hr"),e("div",{staticClass:"w3-container assets-selector-div"},[e("div",{staticClass:"w3-row-padding"},[e("div",{staticClass:"w3-col m4"},[e("h5",[e("b",[t._v(t._s(t.$t("initiatives.CREATE_NEW_TOKEN_Q")))])])]),e("div",{staticClass:"w3-col m4"},[e("button",{staticClass:"w3-button transfer-button",class:{"app-button":t.createTokenFlag,"app-button-light":!t.createTokenFlag},attrs:{type:"button",name:"button"},on:{click:function(i){t.createTokenFlag=!0}}},[t._v("\n                "+t._s(t.$t("general.YES"))+"\n              ")])]),e("div",{staticClass:"w3-col m4"},[e("button",{staticClass:"w3-button transfer-button",class:{"app-button":!t.createTokenFlag,"app-button-light":t.createTokenFlag},attrs:{type:"button",name:"button"},on:{click:function(i){t.createTokenFlag=!1}}},[t._v("\n                "+t._s(t.$t("general.NO"))+"\n              ")])])]),e("div",{staticClass:"slider-container"},[e("transition",{attrs:{name:"slideDownUp"}},[t.createTokenFlag?e("div",{},[e("div",{staticClass:"w3-row-padding"},[e("div",{staticClass:"w3-col m4"},[e("label",{},[e("b",[t._v(t._s(t.$t("tokens.NUMBER_OF_TOKENS")))])]),e("input",{directives:[{name:"model",rawName:"v-model.number",value:t.ownTokens.ownedByThisHolder,expression:"ownTokens.ownedByThisHolder",modifiers:{number:!0}}],staticClass:"w3-input w3-border w3-hover-light-grey",attrs:{type:"number"},domProps:{value:t.ownTokens.ownedByThisHolder},on:{input:function(i){i.target.composing||t.$set(t.ownTokens,"ownedByThisHolder",t._n(i.target.value))},blur:function(i){t.$forceUpdate()}}})]),e("div",{staticClass:"w3-col m4",style:{"margin-bottom":"15px"}},[e("label",{},[e("b",[t._v(t._s(t.$t("tokens.TOKEN_NAME")))])]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.ownTokens.assetName,expression:"ownTokens.assetName"}],staticClass:"w3-input w3-border w3-hover-light-grey",attrs:{type:"text"},domProps:{value:t.ownTokens.assetName},on:{input:function(i){i.target.composing||t.$set(t.ownTokens,"assetName",i.target.value)}}})])]),e("app-error-panel",{attrs:{show:t.tokenNameEmptyShow,message:t.$t("general.FIELD_CANNOT_BE_EMPTY")}}),e("app-error-panel",{attrs:{show:t.tokenNameTooLong,message:t.$t("general.FIELD_TOO_LONG")}})],1):t._e()])],1)]),e("hr"),e("label",{staticClass:"init-contr-label"},[e("b",[t._v(t._s(t.$t("initiatives.INITIAL_MEMBERS"))+":")])]),e("app-members-table-container",{attrs:{members:t.members,canEdit:!0}}),e("app-error-panel",{attrs:{show:t.membersEmptyShow,message:t.$t("general.FIELD_CANNOT_BE_EMPTY")}}),e("app-error-panel",{attrs:{show:t.noAdmingShow,message:t.$t("initiatives.ONE_ADMIN_ATLEAST")}}),e("hr"),e("div",{staticClass:"bottom-btns-row w3-row-padding"},[e("div",{staticClass:"w3-col m6"},[e("button",{staticClass:"w3-button app-button-light",attrs:{type:"button"},on:{click:function(i){t.closeThis()}}},[t._v(t._s(t.$t("general.CANCEL")))])]),e("div",{staticClass:"w3-col m6"},[e("button",{staticClass:"w3-button app-button",attrs:{type:"button"},on:{click:function(i){t.accept()}}},[t._v(t._s(t.$t("general.ACCEPT")))])])])],1)])])])},n=[],s=e("be94"),r=(e("7f7f"),e("2f62")),o=function(){var t=this,i=t.$createElement;t._self._c;return t._m(0)},c=[function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",{},[e("div",{staticClass:"w3-row"},[e("h4",{},[t._v("Create a new token")])]),e("div",{staticClass:"w3-row-padding new-token-inputs"})])}],l={data:function(){return{tokenName:"tokens",tokens:0,valid:!0}},watch:{tokens:function(){this.emitUpdated()},tokenName:function(){this.emitUpdated()}},methods:{emitUpdated:function(){this.$emit("updated",{tokenName:this.tokenName,tokens:this.tokens})}}},u=l,d=(e("ad7e"),e("2877")),p=Object(d["a"])(u,o,c,!1,null,null,null);p.options.__file="NewToken.vue";var v=p.exports,m=e("f12a"),h=e("bde3"),w={props:{asSubinitiative:{type:Boolean,default:!1},parentInitId:{type:String,default:""}},components:{"app-new-token":v,"app-members-table-container":m["a"]},data:function(){return{parentInitiative:null,name:"",driver:"",ownTokens:{ownedByThisHolder:0,assetName:"tokens"},members:[],nameEmptyError:!1,driverEmptyError:!1,membersEmptyError:!1,noAdminError:!1,tokenNameEmptyError:!1,createTokenFlag:!0}},computed:{nameErrorShow:function(){return this.nameEmptyShow||this.nameTooLongShow},nameEmptyShow:function(){return this.nameEmptyError&&""===this.name},nameTooLongShow:function(){return this.nameTooLong},nameTooLong:function(){return this.name.length>42},tokenNameEmpty:function(){return""===this.ownTokens.assetName},tokenNameEmptyShow:function(){return this.tokenNameEmptyError&&this.tokenNameEmpty},tokenNameTooLong:function(){return this.ownTokens.assetName.length>10},membersEmptyShow:function(){return this.membersEmptyError&&0===this.members.length},noAdmingShow:function(){return this.noAdminError&&!this.oneAdminExist},oneAdminExist:function(){for(var t in this.members)if("ADMIN"===this.members[t].role)return!0;return!1}},watch:{parentId:function(){this.updateParent()}},methods:Object(s["a"])({},Object(r["b"])(["showOutputMessage"]),{tokensString:function(t){return Object(h["g"])(t)},parentAssetsSelected:function(t){this.otherAssetsTransfers=JSON.parse(JSON.stringify(t))},parentInitiativeUpdated:function(t){this.parentInitiative=t},closeThis:function(){this.$emit("close")},accept:function(){var t=this,i=!0;if(""===this.name?(i=!1,this.nameEmptyError=!0):this.nameTooLong&&(i=!1),this.tokenNameEmpty&&(i=!1,this.tokenNameEmptyError=!0),this.tokenNameTooLong&&(i=!1),0===this.members.length&&(i=!1,this.membersEmptyError=!0),this.oneAdminExist||(i=!1,this.noAdminError=!0),i){var e={asSubinitiative:this.asSubinitiative,parentInitiativeId:this.asSubinitiative?this.parentInitiative.id:null,name:this.name,driver:this.driver,members:this.members,createToken:this.createTokenFlag,ownTokens:this.ownTokens};this.axios.post("/1/initiative/create",e).then(function(i){"success"===i.data.result?(t.closeThis(),t.$store.commit("setExpandNav",!1),t.$store.dispatch("updateMyInitiatives"),t.$router.push({name:"Initiative",params:{initiativeId:i.data.elementId}})):t.showOutputMessage(i.data.message)}).catch(function(t){console.log(401===t.response.status)})}},updateParent:function(){var t=this;""!==this.parentInitId&&this.axios.get("/1/initiative/"+this.parentInitId,{params:{addAssets:!0}}).then(function(i){t.parentInitiative=i.data.data})}}),mounted:function(){if(this.$store.state.user.profile){var t={};t.user=this.$store.state.user.profile,t.role="ADMIN",this.members.push(t)}this.updateParent()}},f=w,g=(e("04e7"),Object(d["a"])(f,a,n,!1,null,"6f325ef2",null));g.options.__file="NewInitiativeModal.vue";i["a"]=g.exports},"81bb":function(t,i,e){"use strict";e.r(i);var a=function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",{staticClass:"initiatives-home"},[e("router-view"),e("div",{staticClass:"w3-row header-row"},[e("app-header",{attrs:{inInitiative:!1}})],1),e("div",{staticClass:"w3-row-padding browse-initiatives-row"},[t.$store.state.user.authenticated?e("div",{staticClass:"w3-row w3-center w3-border-bottom noselect"},[e("div",{staticClass:"w3-col m6 border-blue-app cursor-pointer tablink",class:{"w3-bottombar":!t.publicInitiatives},on:{click:function(i){t.publicInitiatives=!1}}},[e("h3",[t._v(t._s(t.$t("initiatives.MY_INITIATIVES")))])]),e("div",{staticClass:"w3-col m6 border-blue-app cursor-pointer tablink",class:{"w3-bottombar":t.publicInitiatives},on:{click:function(i){t.publicInitiatives=!0}}},[e("h3",[t._v(t._s(t.$t("initiatives.PUBLIC_INITIATIVES")))])])]):e("div",{},[e("h3",[t._v(t._s(t.$t("initiatives.PUBLIC_INITIATIVES")))])]),e("div",{staticClass:"inits-container"},[t.publicInitiatives?e("app-public-initiatives"):e("app-my-initiatives")],1)])],1)},n=[],s=e("0418"),r=function(){var t=this,i=t.$createElement,a=t._self._c||i;return a("div",{},[a("div",{staticClass:"w3-row w3-container"},[a("label",{attrs:{for:""}},[a("b",[t._v(t._s(t.$t("initiatives.FILTER_BY_TAG"))+":")])]),a("div",{staticClass:"w3-col s12"},[a("div",{staticClass:"w3-row-padding"},[a("div",{staticClass:"w3-col m4"},[a("app-initiative-tag-selector",{staticClass:"tag-selector",attrs:{resetTrigger:t.resetTrigger},on:{select:function(i){t.tagSelected(i)}}})],1),a("div",{staticClass:"w3-col m8 tags-column"},t._l(t.filters.tags,function(i){return a("app-initiative-tag",{key:i.id,staticClass:"tags-containers",attrs:{tag:i,showRemove:!0},on:{remove:function(i){t.removeTag(i)}}})}))])])]),a("hr"),a("div",{},[t.loaded?a("div",{staticClass:"w3-row-padding"},[t._l(t.publicInitiatives,function(i){return a("div",{staticClass:"initiative-card-col"},[a("app-initiative-card",{key:i.id,attrs:{initiative:i},on:{clicked:function(i){t.updateCurrentInitiative(i)}}})],1)}),0==t.publicInitiatives.length?a("div",{staticClass:"w3-center"},[a("i",[t._v(t._s(t.$t("general.NO_RESULTS_FOUND")))])]):t._e()],2):a("div",{staticClass:"w3-row w3-center loader-gif-container"},[a("img",{staticClass:"loader-gif",attrs:{src:e("cf1c"),alt:""}})])])])},o=[],c=function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",{staticClass:"this-card-container w3-card-2 w3-round-large w3-border w3-leftbar cursor-pointer",style:{"border-left-color":t.initiative.meta.color+" !important"},on:{click:function(i){t.goToInitiative()}}},[t.initiative.meta.imageFile?e("div",{staticClass:"w3-row image-container w3-center w3-display-container"},[e("img",{attrs:{src:t.initiative.meta.imageFile.url+"?lastUpdated="+t.initiative.meta.imageFile.lastUpdated,alt:""}})]):t._e(),e("div",{staticClass:"w3-container"},[e("a",{staticClass:"w3-row initiative-title"},[e("h4",[e("b",[t._v(t._s(t.initiative.meta.name))])])]),e("div",{staticClass:"w3-row driver-row"},[e("vue-markdown",{staticClass:"marked-text",attrs:{source:t.initiative.meta.driver,anchorAttributes:{target:"_blank"}}})],1)]),e("div",{staticClass:"w3-row w3-margin-top"},t._l(t.initiative.meta.tags,function(t){return e("app-initiative-tag",{key:t.id,staticClass:"tags-containers",attrs:{tag:t}})}))])},l=[],u=e("ff04"),d={components:{"app-initiative-tag":u["a"]},props:{initiative:Object},methods:{goToInitiative:function(){this.$emit("clicked",this.initiative.id),this.$router.push({name:"Initiative",params:{initiativeId:this.initiative.id}})}}},p=d,v=(e("1fb3"),e("2877")),m=Object(v["a"])(p,c,l,!1,null,"43903241",null);m.options.__file="InitiativeCard.vue";var h=m.exports,w=e("022f"),f=function(t,i){for(var e in t)if(t[e].id===i)return e;return-1},g={components:{"app-initiative-card":h,"app-initiative-tag-selector":w["a"],"app-initiative-tag":u["a"]},data:function(){return{filters:{query:"",tags:[]},publicInitiatives:[],loaded:!1,resetTrigger:!0}},computed:{},methods:{updateResults:function(){var t=this;this.loaded=!1,this.axios.put("/1/initiatives/search",this.filters).then(function(i){t.loaded=!0,t.publicInitiatives=i.data.data})},tagSelected:function(t){this.resetTrigger=!this.resetTrigger,-1===f(this.filters.tags,t.id)&&(this.filters.tags.push(t),this.updateResults())},removeTag:function(t){var i=f(this.filters.tags,t.id);-1!==i&&(this.filters.tags.splice(i,1),this.updateResults())},updateCurrentInitiative:function(t){this.$store.dispatch("updateCurrentInitiativeTree",t)}},created:function(){this.updateResults()}},b=g,_=(e("9d44"),Object(v["a"])(b,r,o,!1,null,"fe71bee4",null));_.options.__file="PublicInitiatives.vue";var E=_.exports,T=function(){var t=this,i=t.$createElement,a=t._self._c||i;return a("div",{},[a("transition",{attrs:{name:"slideDownUp"}},[t.showNewInitiativeModal?a("app-new-initiative-modal",{on:{close:function(i){t.showNewInitiativeModal=!1}}}):t._e()],1),t.loading?a("div",{staticClass:"w3-row w3-center loader-gif-container"},[a("img",{staticClass:"loader-gif",attrs:{src:e("cf1c"),alt:""}})]):a("div",{staticClass:"w3-row-padding"},[t.myInitiatives.length>0?a("div",{},t._l(t.myInitiatives,function(i){return a("div",{staticClass:"initiative-card-col"},[a("app-initiative-card",{key:i.id,attrs:{initiative:i},on:{clicked:function(i){t.updateCurrentInitiative(i)}}})],1)})):a("div",{staticClass:"w3-center"},[a("div",{staticClass:"w3-row w3-margin-top"},[a("i",[t._v(t._s(t.$t("initiatives.MY_INITS_EMPTY")))])]),a("div",{staticClass:"w3-row w3-margin-top"},[a("button",{staticClass:"w3-button app-button",on:{click:function(i){t.showNewInitiativeModal=!0}}},[t._v("\n          "+t._s(t.$t("initiatives.CREATE_ONE"))+"\n        ")])])])])],1)},C=[],I=e("6f4b"),k={components:{"app-initiative-card":h,"app-new-initiative-modal":I["a"]},data:function(){return{showNewInitiativeModal:!1}},computed:{loading:function(){return this.$store.state.initiativesTree.loadingMyInitiatives},myInitiatives:function(){return this.$store.getters.initiativesTreeTop()}},methods:{updateCurrentInitiative:function(t){this.$store.dispatch("updateCurrentInitiativeTree",t)}}},N=k,y=(e("4112"),Object(v["a"])(N,T,C,!1,null,"02def152",null));y.options.__file="MyInitiatives.vue";var $=y.exports,S={components:{"app-header":s["a"],"app-public-initiatives":E,"app-my-initiatives":$},data:function(){return{publicInitiatives:!0}},created:function(){this.$store.state.user.authenticated&&(this.publicInitiatives=!1)}},O=S,A=(e("9322"),Object(v["a"])(O,a,n,!1,null,"c08547ee",null));A.options.__file="InitiativesHome.vue";i["default"]=A.exports},9322:function(t,i,e){"use strict";var a=e("b877"),n=e.n(a);n.a},"9d44":function(t,i,e){"use strict";var a=e("cfbb"),n=e.n(a);n.a},ad7e:function(t,i,e){"use strict";var a=e("5cf8"),n=e.n(a);n.a},b877:function(t,i,e){},cd22:function(t,i,e){},cfbb:function(t,i,e){},d2fb:function(t,i,e){},d9bd:function(t,i,e){}}]);
//# sourceMappingURL=chunk-d64900c6.ced6158d.js.map